# Motion Granted Production Environment Variables
# Copy this file to .env.local and fill in your values

# =============================================================================
# REQUIRED - Supabase
# =============================================================================
NEXT_PUBLIC_SUPABASE_URL=https://your-project.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=your-anon-key
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key

# =============================================================================
# REQUIRED - Stripe (Payments)
# =============================================================================
STRIPE_SECRET_KEY=sk_live_xxxxx
STRIPE_WEBHOOK_SECRET=whsec_xxxxx
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=pk_live_xxxxx

# =============================================================================
# REQUIRED - Resend (Email)
# =============================================================================
RESEND_API_KEY=re_xxxxx

# =============================================================================
# REQUIRED - Claude AI (Motion Drafting â€” core feature)
# =============================================================================
# Get from: https://console.anthropic.com/settings/keys
ANTHROPIC_API_KEY=sk-ant-api03-xxxxx

# =============================================================================
# REQUIRED - Encryption (for API key storage at rest)
# =============================================================================
# Generate with: openssl rand -base64 32
ENCRYPTION_SECRET=your-32-character-encryption-secret

# =============================================================================
# OPTIONAL - App Configuration
# =============================================================================
NEXT_PUBLIC_APP_URL=https://motiongranted.com

# Cron job authentication (minimum 32 characters recommended)
# Generate with: openssl rand -base64 32
CRON_SECRET=your-random-secret-string-at-least-32-chars

# =============================================================================
# OPTIONAL - Admin Notifications
# =============================================================================
ADMIN_EMAIL=admin@yourdomain.com
ALERT_EMAIL=alerts@yourdomain.com
# Email for critical security/system alerts (defaults to ADMIN_EMAIL)
ADMIN_ALERT_EMAIL=admin@yourdomain.com

# =============================================================================
# OPTIONAL - Logging & Monitoring
# =============================================================================
# Log level: DEBUG, INFO, WARN, ERROR (default: INFO in prod, DEBUG in dev)
LOG_LEVEL=INFO
# Enable error alerting system (default: false)
ALERTING_ENABLED=false

# =============================================================================
# RECOMMENDED - OpenAI (Citation Verification)
# =============================================================================
# Get from: https://platform.openai.com/api-keys
OPENAI_API_KEY=sk-xxxxx
# Citation verification model (default: gpt-4-turbo)
OPENAI_CITATION_MODEL=gpt-4-turbo
# Model type: "standard" or "reasoning" (for o1/o3 models)
OPENAI_MODEL_TYPE=standard
# Optional: For credential rotation, comma-separated list of additional keys
# OPENAI_API_KEYS=sk-key1,sk-key2,sk-key3
# Optional: Organization ID
# OPENAI_ORGANIZATION=org-xxxxx

# =============================================================================
# REQUIRED - Citation Verification (CourtListener & PACER)
# =============================================================================
# CourtListener API (PRIMARY - free)
# Get from: https://www.courtlistener.com/api/register/
COURTLISTENER_API_KEY=your-courtlistener-api-key

# PACER Credentials (FALLBACK - costs ~$0.10/document)
# Sign up at: https://pacer.uscourts.gov/
# Required for verifying unpublished federal cases not in CourtListener
PACER_USERNAME=your-pacer-username
PACER_PASSWORD=your-pacer-password


# =============================================================================
# OPTIONAL - Inngest (Background Jobs)
# =============================================================================
# Required for production background job processing
# Get from: https://app.inngest.com/
INNGEST_EVENT_KEY=your-inngest-event-key
INNGEST_SIGNING_KEY=your-inngest-signing-key

# =============================================================================
# OPTIONAL - Feature Flags
# =============================================================================
# Auto-generation is ON by default. Set to 'false' to disable.
ENABLE_AUTO_GENERATION=true

# Phase III HOLD enforcement mode: 'enforce' (default/production), 'warn' (testing), 'off' (dev)
# Set to 'warn' during testing to log HOLD detections without blocking the workflow.
HOLD_ENFORCEMENT_MODE=enforce

# Deadline validation mode: 'enforce' (default/production), 'warn' (testing), 'off' (dev)
# Set to 'warn' during testing to allow orders with expired deadlines through.
DEADLINE_VALIDATION_MODE=enforce

# =============================================================================
# OPTIONAL - Email Configuration
# =============================================================================
EMAIL_FROM_ADDRESS="Motion Granted <noreply@motiongranted.com>"
EMAIL_REPLY_TO=support@motiongranted.com

# =============================================================================
# OPTIONAL - Upstash Redis (Distributed Rate Limiting)
# =============================================================================
# UPSTASH_REDIS_REST_URL=https://your-redis.upstash.io
# UPSTASH_REDIS_REST_TOKEN=your-upstash-token

# =============================================================================
# OPTIONAL - Sentry (Error Tracking & APM)
# =============================================================================
# Get from: https://sentry.io/
# NEXT_PUBLIC_SENTRY_DSN=https://your-dsn@sentry.io/project-id
# SENTRY_DSN=https://your-dsn@sentry.io/project-id
# SENTRY_ORG=your-sentry-org
# SENTRY_PROJECT=motion-granted
# SENTRY_AUTH_TOKEN=sntrys_your-auth-token

# =============================================================================
# OPTIONAL - VirusTotal (Malware Scanning - SEC-013)
# =============================================================================
# Get from: https://www.virustotal.com/gui/my-apikey
# VIRUSTOTAL_API_KEY=your-virustotal-api-key

# =============================================================================
# OPTIONAL - Admin MFA
# =============================================================================
# Admin MFA mode: 'enforce' (production), 'optional' (testing), 'off' (dev)
ADMIN_MFA_MODE=enforce

# =============================================================================
# OPTIONAL - Supabase Project Reference
# =============================================================================
# Used for storage bucket management. Found in your Supabase project settings.
# SUPABASE_PROJECT_REF=your-project-ref

# =============================================================================
# TESTING - Playwright E2E Test Credentials
# =============================================================================
# TEST_USER_EMAIL=test@example.com
# TEST_USER_PASSWORD=test-password
# TEST_ADMIN_EMAIL=admin@example.com
# TEST_ADMIN_PASSWORD=admin-password
# PLAYWRIGHT_BASE_URL=http://localhost:3000
